# search-operator
Operator for the Search service.
Initially this operator will only create the `redisgraph-user-secret`.  The goal is to move the search-chart in the near future.

## Development

This project was created with the [operator-sdk](https://github.com/operator-framework/operator-sdk).  About 90% of the code is automated boilerplate generated byt the operator-sdk.
To learn more about how to update this project check the [getting-started guide](https://github.com/operator-framework/getting-started)

Most of the code in this project is auto-generated.  The logic specific to this operator is at ./pkg/controller/searchservice_controller.go

### Install the Operator SDK CLI

Follow the steps in the [installation guide][install_guide] to learn how to install the Operator SDK CLI tool. It requires [version v0.17.0][operator_sdk_v0.17.0].
Or just use this command to download `operator-sdk` for Mac:
```
curl -L https://github.com/operator-framework/operator-sdk/releases/download/v0.17.0/operator-sdk-v0.17.0-x86_64-apple-darwin -o operator-sdk
```

### Build the Operator

- git clone this repository.
- `go mod vendor`
- `operator-sdk build <repo>/<component>:<tag>` for example: quay.io/open-cluster-management/search-operator:v0.1.0.
- Replace the image in `deploy/operator.yaml`.
- Update your namespace in `deploy/role_binding.yaml`.
